ğŸ—³ï¸ Coblos Aku â€“ Aplikasi E-Voting Modern



<img width="338" height="272" alt="image" src="https://github.com/user-attachments/assets/f1899a19-f359-4bc7-a66b-49016df3e6c6" />



Coblos Aku adalah platform E-Voting berbasis web dan mobile yang dirancang untuk menghadirkan pengalaman memilih yang aman, transparan, dan real-time. Dibangun menggunakan teknologi modern dengan dukungan multi-platform (Web & Android).

âœ¨ Fitur Utama

Aplikasi menggunakan sistem Role-Based Access Control (RBAC) dengan dua peran utama: Pemilih dan Admin.

ğŸ‘¤ Pemilih (Voter)

Login aman menggunakan akun Supabase Auth

Melihat informasi lengkap kandidat (visi, misi, biodata, program kerja)

One-Man-One-Vote â€” validasi server memastikan satu akun hanya dapat memilih sekali

Real-time Count â€” melihat hasil suara langsung dalam bentuk grafik

Membaca berita atau pengumuman terbaru

ğŸ›¡ï¸ Admin

CRUD kandidat (tambah, edit, hapus, unggah foto)

CRUD berita

Menentukan deadline pemilihan

Reset suara untuk simulasi atau uji coba

ğŸ› ï¸ Teknologi yang Digunakan

Frontend: React.js (Vite)

Styling: Tailwind CSS

Backend: Supabase (PostgreSQL, Auth, Storage, Realtime)

Mobile: Capacitor (Android build)

PWA Support: Vite PWA Plugin

Icons: Lucide React

ğŸš€ Instalasi Project (Local Development)
1. Clone Repository
git clone https://github.com/username-anda/coblos-aku.git
cd coblos-aku

2. Install Dependencies
npm install

3. Konfigurasi Environment Variables

Buat file .env:

VITE_SUPABASE_URL=https://project-id-anda.supabase.co
VITE_SUPABASE_ANON_KEY=kunci-anon-public-anda

4. Jalankan Aplikasi
npm run dev


Akses melalui: http://localhost:5173

ğŸ—„ï¸ Supabase Database Setup

Salin seluruh script berikut ke SQL Editor di Supabase Anda.

1. Tabel candidates
create table public.candidates (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  name text not null,
  number integer not null,
  vision text,
  mission text,
  position text default 'Calon Ketua',
  photo_url text,
  vote_count integer default 0,
  nim text,
  fakultas text,
  prodi text,
  status text,
  tempat_lahir text,
  tanggal_lahir date,
  jenis_kelamin text,
  extraInfo text
);

2. Tabel votes
create table public.votes (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  user_id uuid not null references auth.users(id),
  candidate_id bigint references public.candidates(id),
  role text
);

3. Tabel news
create table public.news (
  id bigint generated by default as identity primary key,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null,
  title text not null,
  content text,
  date date default CURRENT_DATE
);

4. Fungsi RPC increment_vote

Fungsi ini mencegah race condition ketika beberapa orang memilih di waktu bersamaan.

create or replace function increment_vote(row_id bigint)
returns void as $$
begin
  update candidates
  set vote_count = vote_count + 1
  where id = row_id;
end;
$$ language plpgsql;

ğŸ“¦ Konfigurasi Storage

Buat bucket bernama candidate_photos

Set public

Buat policy:

Public read

Authenticated users insert

ğŸ“± Build Android (APK)
1. Build React App
npm run build

2. Sync ke Capacitor
npx cap sync

3. Buka di Android Studio
npx cap open android

ğŸ“‚ Struktur Folder
src/
 â”œâ”€ components/    â†’ Reusable UI components (Card, Modal, Navbar)
 â”œâ”€ pages/         â†’ Halaman aplikasi (Login, Home, Voting, Candidates)
 â”œâ”€ hooks/         â†’ Custom hooks (useAppController.js)
 â”œâ”€ services/      â†’ Supabase API (apiService.js)
 â”œâ”€ config/        â†’ Konfigurasi Supabase
